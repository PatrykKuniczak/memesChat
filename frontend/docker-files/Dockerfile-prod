FROM node:19.3-alpine

WORKDIR /frontend

COPY . .

ENV NODE_ENV=production

RUN npm ci --production --legacy-peer-deps && npm i -g serve

RUN npm run build

CMD [ "npx", "serve", "build" ]